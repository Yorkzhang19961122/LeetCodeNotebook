【题目】

一个整型数组 `nums` 里除两个数字之外，其他数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是O(n)，空间复杂度是O(1)。

【示例】

```c++
输入：nums = [4,1,4,6]
输出：[1,6] 或 [6,1]
```

```c++
输入：nums = [1,2,10,4,1,4,3,3]
输出：[2,10] 或 [10,2]
```

---

【题解思路—分组位运算】

要求时间复杂度O(N)，空间复杂度O(1)，所以排除暴力法和哈希表统计法。

考虑使用分组的位运算：

* 遍历nums进行异或（异或的交换律），得到的结果即为两个特殊数字的异或结果
* 循环左移找m
  * 根据异或运算定义，若整数 x⊕y 某二进制位为 1 ，则 x 和 y 的此二进制位一定不同。换言之，找到 x⊕y 某为 1 的二进制位，即可将数组 nums 拆分为上述的两个子数组
  * 因此，初始化一个辅助变量 m = 1 ，通过与运算从右向左循环判断，可 **获取整数 x⊕y 首位 1** ，记录于 m 中
* 拆分nums为两个子数组
* 分别遍历两个子数组执行异或运算，通过遍历判断 nums 中各数字和 m 做**与**运算的结果，可将数组拆分为两个子数组，并分别对两个子数组遍历求异或，则可得到两个只出现一次的数字
* 返回只出现一次的数字即可

【题解代码—分组位运算】

```c++
class Solution {
public:
    vector<int> singleNumbers(vector<int>& nums) {
        int x = 0, y = 0, m = 1, n = 0;
        for(int num : nums) {  //遍历异或
            n ^= num;
        }
        while((m & n) == 0) {  //计算m
            m <<= 1;
        }
        for(int num : nums) {  //nums分组异或
            if(num & m) x ^= num;  //当num & m != 0
            else y ^= num;  //当num & m == 0
        }
        return vector<int> {x, y};
    }
};
```

