【题目】

求 `1+2+...+n` ，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。

【示例】

```c++
输入: n = 3
输出: 6
```

---

【题解思路—递归+逻辑运算短路】

常规的计算方法，例如平均计算和迭代都需要使用乘除法和循环操作，因此直接排除，而递归法需要用if来终止递归，考虑使用逻辑运算符的短路效应：

常见的逻辑运算符有三种，即 “与 \&\& ”，“或 ||”，“非 ! ” ；而其有重要的短路效应，如下所示：

```c++
if(A && B)  // 若 A 为 false ，则 B 的判断不会执行（即短路），直接判定 A && B 为 false

if(A || B) // 若 A 为 true ，则 B 的判断不会执行（即短路），直接判定 A || B 为 true
```

本题需要实现 “当 n = 1时终止递归” 的需求，可通过短路效应实现。

```c++
n > 1 && sumNums(n - 1) // 当 n = 1 时 n > 1 不成立 ，此时 “短路” ，终止后续递归
```

【题解代码—递归+逻辑运算短路】

```c++
class Solution {
public:
    int res = 0;
    int sumNums(int n) {
        /*A&&B，如果不是递归出口，则返回True，并继续执行表达式 B 的部分，否则递归结束。*/
        n && (n += sumNums(n - 1));  //递归的出口看做是前面的表达式n>0，递归的主体函数看做&&后面一部分
        return n;
    }
};
```

