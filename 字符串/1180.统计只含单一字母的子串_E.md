【题目】

统计只含单一字母的字串

【示例】

>输入： "aaaba"  
> 输出： 8  
> 解释：   
> 只含单一字母的子串分别是 "aaa"， "aa"， "a"， "b"。  
> "aaa" 出现 1 次。  
> "aa" 出现 2 次。  
> "a" 出现 4 次。  
> "b" 出现 1 次。  
> 所以答案是 1 + 2 + 4 + 1 = 8。

---

【题解思路】

本题要求只含单一字母的子串个数，首先我们可以计算每一个最长只含单一字母的连续子串。比如 `S = "aaabb"`，一共有两个符合要求的子串，分别为 `aaa` 和` bb`。

然后考虑对于一个字符串，共有多少不同的子串。我们可以对字符串进行分组计算，比如 `aaa` 共有 6 个子串。`a `3 个， `aa `2 个，`aaa `1 个。转化为通用公式就是 `n * (n + 1) / 2`，其中 `n `为连续子串的长度。

遍历字符串` S`， 计算每个最长只含单一字母的连续子串的长度 `count`，每个最长连续子串可以分成 `count * (count + 1) / 2` 个不同的子串，将其累加到结果中。

【题解代码】

```c++
class Solution {
public:
    int countLetters(string S) {
        int ans = 0;  //ans为每个连续子串可以分成不同子串的数量
        int count = 1;  //只含单一字母的连续子串的长度count，默认为1
        for(int i = 1; i < S.size(); ++i){  //遍历S
            if (S[i-1] = S[i]){  //找连续的字符
                count++;  //长度加1
            }
            else{  //字符不连续
                ans += ((1 + count) * count)/2;  //根据公式计算不连续时的ans，如'aaabb'中的'aaa'
                count = 1;  //count复位
            }
        }
        ans += ((1 + count) * count)/2;  //计算最后的count，如'aaabb'中的'bb'
        return ans;
    }
};
```

